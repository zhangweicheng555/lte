<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>5G基站单站验证管控表汇总 </title>
<link rel="stylesheet" type="text/css" media="screen" href="../../../css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" media="screen" href="../../../layui/css/layui.css">

</head>
<body>
<div>
	<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		<header style="height: 100%">
			<div align="left">
				
			</div>
		</header>

		<div style="margin-top: -2px;">
			<div class="widget-body no-padding">
				<table class="layui-table"  lay-size="sm">
				  <thead>
				    <tr>
				      <th colspan="15" style="text-align: center;font-weight: bold;font-size: 20px;">5G基站单站验证管控表汇总 </th>
				    </tr> 
				    <tr>
				      <th style="text-align: center;" rowspan="2">优化分区</th>
				      <th style="text-align: center;" rowspan="2">区局</th>
				      <th style="text-align: center;" colspan="13">天面单验</th>
				    </tr> 
				    <tr>
				      <th style="text-align: center;">AAU安装完成量</th>
				      <th style="text-align: center;">报单验数</th>
				      <th style="text-align: center;">总计</th>
				      <th style="text-align: center;">通过数</th>
				      <th style="text-align: center;">总计</th>
				      <th style="text-align: center;">不通过数</th>
				      <th style="text-align: center;">总计</th>
				      <th style="text-align: center;">上站需协调</th>
				      <th style="text-align: center;">总计</th>
				      <th style="text-align: center;">报验率</th>
				      <th style="text-align: center;">上站率</th>
				      <th style="text-align: center;">上站成功率</th>
				      <th style="text-align: center;">单验通过率</th>
				    </tr> 
				  </thead>
				  <tbody  id="tbodyAutoCheck">
				    <!-- 每个部分的   开始 -->
				    <tr>
				      <td rowspan="4">北区</td>
				      <td>宝山分公司</td>
				      <td>0</td>
				      <td>0</td>
				      <td rowspan="4" id="zwc">0</td>
				      <td>0</td>
				      <td rowspan="4">0</td>
				      <td>0</td>
				      <td rowspan="4">0</td>
				      <td>0</td>
				      <td rowspan="4">0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				    </tr>
				    <tr>
				      <td>北区分公司</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				    </tr>
				    <tr>
				      <td>崇明分公司</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				    </tr>
				    <tr>
				      <td>嘉定分公司</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				    </tr>
				     <!-- 每个部分的   结束 -->
				     <tr>
				      <td rowspan="4">南区</td>
				      <td>闵行分公司</td>
				      <td>0</td>
				      <td>0</td>
				      <td rowspan="4">0</td>
				      <td>0</td>
				      <td rowspan="4">0</td>
				      <td>0</td>
				      <td rowspan="4">0</td>
				      <td>0</td>
				      <td rowspan="4">0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				    </tr>
				    <tr>
				      <td>奉贤分公司</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				    </tr>
				    <tr>
				      <td>金山分公司</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				    </tr>
				    <tr>
				      <td>南区分公司</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				    </tr>
				    
				      <!-- 每个部分的   结束 -->
				     <tr>
				      <td rowspan="1">东区</td>
				      <td>浦东分公司</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				    </tr>
				    
				     <tr>
				      <td rowspan="4">西区</td>
				      <td>青浦分公司</td>
				      <td>0</td>
				      <td>0</td>
				      <td rowspan="4">0</td>
				      <td>0</td>
				      <td rowspan="4">0</td>
				      <td>0</td>
				      <td rowspan="4">0</td>
				      <td>0</td>
				      <td rowspan="4">0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				    </tr>
				    <tr>
				      <td>松江分公司</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				    </tr>
				    <tr>
				      <td>西区分公司</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				    </tr>
				    <tr>
				      <td>重大办分公司</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				      <td>0</td>
				    </tr>
				  </tbody>
				</table>
			</div>
		</div>
		
		<!-- 呈现highchart -->
		<div style="margin-top: -2px;">
			<div class="widget-body no-padding">
					<div id="analyzeLteAllAndComplete" style="min-width:400px;height:450px;margin: 10px;"></div>
			</div>
	    </div>
		
	</div>
</div>


</body>
</html>

	<script type="text/javascript" src="../../../js/libs/jquery-2.1.1.min.js" ></script>
	<script type="text/javascript" src="../../../layui/layui.js" ></script>
	<script type="text/javascript" src="../../../js/jq.js"></script>
	<script type="text/javascript" src="../../js/hc.js"></script>
	<script type="text/javascript" src="../../../js/common.js" charset="UTF-8"></script>

	 <!-- 注意highchart引入的顺序 -->
	 <script src="../../js/Highcharts-7.0.2/code/highcharts.js"></script> 
	 <script src="../../js/Highcharts-7.0.2/code/modules/exporting.js"></script> 
	 <script src="../../js/Highcharts-7.0.2/code/modules/export-data.js"></script> 
	 <script src="../../js/Highcharts-7.0.2/code/modules/no-data-to-display.js"></script>

	<script type="text/javascript">
	var currData;
	var form;
	var checkArray=new Array();
	layui.use([ 'layer' ,'table','jquery','common','form'], function() {
	  var layer= layui.layer;
	  var $=layui.$;
	  form = layui.form;
	  var common = layui.common;
	  	
	  //查询数据
	  initData();
	  function initData(){
			$.ajax({
				   type: "POST",url: "/analyze/analyzeAutoCheckForCompany",data: {},dataType:"json",
				   success: function(msg){
				     if(msg.success){
				    	 var obj=msg.object;
				    	 if(obj){
				    		 initChart("analyzeLteAllAndComplete",true,false,"5G基站单站验证管控表统计",null,msg.object.highchartModel.categories,msg.object.highchartModel.size,"数量",msg.object.highchartModel.series);
				    		 
				    		 var data=obj.data;
				    		 if(data && data.length>0){//遍历数据
				    		     var eastArray=[];
				    		     var sourthArray=[];
				    		     var westhArray=[];
				    		     var northhArray=[];
				    			 for(var i=0;i<data.length;i++){
				    				 var model=data[i];
				    				 if('北区'==model.comapnyBelong){
				    					 northhArray.push(model);
				    				 }
				    				 if('东区'==model.comapnyBelong){
				    					 eastArray.push(model);
				    				 }
				    				 if('西区'==model.comapnyBelong){
				    					 westhArray.push(model);
				    				 }
				    				 if('南区'==model.comapnyBelong){
				    					 sourthArray.push(model);
				    				 }
				    			 }
				    			 
				    			 var eastHtml="";
				    		     var sourthHtml="";
				    		     var westhHtml="";
				    		     var northhHtml="";
				    		     
				    			 for(var i=0;i<northhArray.length;i++){
				    				 var dataModel=northhArray[i];
				    				 if(i==0){
				    					 northhHtml = northhHtml+'<tr>				      <td rowspan="'+northhArray.length+'">'+dataModel.comapnyBelong+'</td>				      <td>'+dataModel.secondConpany+'</td>				      <td>0</td>				      <td>'+dataModel.allNum+'</td>				      <td rowspan="'+northhArray.length+'">'+dataModel.allNumFq+'</td>				      <td>'+dataModel.finishNum+'</td>				      <td rowspan="'+northhArray.length+'">'+dataModel.finishNumFq+'</td>				      <td>'+dataModel.notFinishNum+'</td>				      <td rowspan="'+northhArray.length+'">'+dataModel.notFinishFq+'</td>				      <td>0</td>				      <td rowspan="'+northhArray.length+'">0</td>				      <td>0</td>				      <td>0</td>				      <td>0</td>				      <td>0</td>				    </tr>';
				    				 }else{
				    					 northhHtml =northhHtml+'<tr>				      <td>'+dataModel.secondConpany+'</td>				      <td>0</td>				      <td>'+dataModel.allNum+'</td>				      				      <td>'+dataModel.finishNum+'</td>				      <td>'+dataModel.notFinishNum+'</td>				      <td>0</td>				      				      <td>0</td>				      <td>0</td>				      <td>0</td>				      <td>0</td>				    </tr>';
				    				 }
				    			 }
				    			 for(var i=0;i<eastArray.length;i++){
				    				 var dataModel=eastArray[i];
				    				 if(i==0){
				    					 eastHtml = eastHtml+'<tr>				      <td rowspan="'+eastArray.length+'">'+dataModel.comapnyBelong+'</td>				      <td>'+dataModel.secondConpany+'</td>				      <td>0</td>				      <td>'+dataModel.allNum+'</td>				      <td rowspan="'+eastArray.length+'">'+dataModel.allNumFq+'</td>				      <td>'+dataModel.finishNum+'</td>				      <td rowspan="'+eastArray.length+'">'+dataModel.finishNumFq+'</td>				      <td>'+dataModel.notFinishNum+'</td>				      <td rowspan="'+eastArray.length+'">'+dataModel.notFinishFq+'</td>				      <td>0</td>				      <td rowspan="'+eastArray.length+'">0</td>				      <td>0</td>				      <td>0</td>				      <td>0</td>				      <td>0</td>				    </tr>';
				    				 }else{
				    					 eastHtml =eastHtml+'<tr>				      <td>'+dataModel.secondConpany+'</td>				      <td>0</td>				      <td>'+dataModel.allNum+'</td>				      				      <td>'+dataModel.finishNum+'</td>				      <td>'+dataModel.notFinishNum+'</td>				      <td>0</td>				      				      <td>0</td>				      <td>0</td>				      <td>0</td>				      <td>0</td>				    </tr>';
				    				 }
				    			 }
				    			 
				    			 for(var i=0;i<sourthArray.length;i++){
				    				 var dataModel=sourthArray[i];
				    				 if(i==0){
				    					 sourthHtml = sourthHtml+'<tr>				      <td rowspan="'+sourthArray.length+'">'+dataModel.comapnyBelong+'</td>				      <td>'+dataModel.secondConpany+'</td>				      <td>0</td>				      <td>'+dataModel.allNum+'</td>				      <td rowspan="'+sourthArray.length+'">'+dataModel.allNumFq+'</td>				      <td>'+dataModel.finishNum+'</td>				      <td rowspan="'+sourthArray.length+'">'+dataModel.finishNumFq+'</td>				      <td>'+dataModel.notFinishNum+'</td>				      <td rowspan="'+sourthArray.length+'">'+dataModel.notFinishFq+'</td>				      <td>0</td>				      <td rowspan="'+sourthArray.length+'">0</td>				      <td>0</td>				      <td>0</td>				      <td>0</td>				      <td>0</td>				    </tr>';
				    				 }else{
				    					 sourthHtml =sourthHtml+'<tr>				      <td>'+dataModel.secondConpany+'</td>				      <td>0</td>				      <td>'+dataModel.allNum+'</td>				      				      <td>'+dataModel.finishNum+'</td>				      <td>'+dataModel.notFinishNum+'</td>				      <td>0</td>				      				      <td>0</td>				      <td>0</td>				      <td>0</td>				      <td>0</td>				    </tr>';
				    				 }
				    			 }
				    			 
				    			 for(var i=0;i<westhArray.length;i++){
				    				 var dataModel=westhArray[i];
				    				 if(i==0){
				    					 westhHtml = westhHtml+'<tr>				      <td rowspan="'+westhArray.length+'">'+dataModel.comapnyBelong+'</td>				      <td>'+dataModel.secondConpany+'</td>				      <td>0</td>				      <td>'+dataModel.allNum+'</td>				      <td rowspan="'+westhArray.length+'">'+dataModel.allNumFq+'</td>				      <td>'+dataModel.finishNum+'</td>				      <td rowspan="'+westhArray.length+'">'+dataModel.finishNumFq+'</td>				      <td>'+dataModel.notFinishNum+'</td>				      <td rowspan="'+westhArray.length+'">'+dataModel.notFinishFq+'</td>				      <td>0</td>				      <td rowspan="'+westhArray.length+'">0</td>				      <td>0</td>				      <td>0</td>				      <td>0</td>				      <td>0</td>				    </tr>';
				    				 }else{
				    					 westhHtml =westhHtml+'<tr>				      <td>'+dataModel.secondConpany+'</td>				      <td>0</td>				      <td>'+dataModel.allNum+'</td>				      				      <td>'+dataModel.finishNum+'</td>				      <td>'+dataModel.notFinishNum+'</td>				      <td>0</td>				      				      <td>0</td>				      <td>0</td>				      <td>0</td>				      <td>0</td>				    </tr>';
				    				 }
				    			 }
				    			
				    			 
				    			 $("#tbodyAutoCheck").empty();
				    			 $("#tbodyAutoCheck").append(northhHtml+eastHtml+sourthHtml+westhHtml);
				    		 }
				    	 }
				     }else{
				    	 layer.msg('返回修改数据信息异常');
				     }
				   }
			});
		};
		
    });
	
    </script>

